<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
    <title>SABnzbd+ $version - Queued: $mbleft MB</title>
    <link rel="stylesheet" type="text/css" href="../../static/stylesheets/default.css"/>
    <link rel="stylesheet" type="text/css" href="../../static/stylesheets/defaultcolors.css"/>
    <!--#if $color_scheme#-->
        <link rel="stylesheet" type="text/css" href="../../static/stylesheets/colorschemes/$color_scheme"/>
    <!--#end if#-->
    <link rel="shortcut icon" href="../../static/images/favicon.ico" />
</head>
<body>
<h1><span id="first">SAB</span><span id="second">nzbd+</span><span id="third"> $version</span><span id="catchfrase">The automatic usenet download tool</span></h1>
<span class="MainMenu">
<a href="../../">Home</a> |
<a href="../../queue">Queue</a> |
<a href="../../history">History</a> |
<a class="current" href="../">Config</a> |
<a href="../../connections">Connections</a> |
<a href="$helpuri/Configure+RSS/" target="_blank">Help</a>
</span>
<span class="SubMenu">
<a href="../general">General</a> |
<a href="../directories">Directories</a> |
<a href="../switches">Switches</a> |
<a href="../server">Servers</a> |
<a href="../scheduling">Scheduling</a> |
<a class="current" href="./">RSS</a> |
<a href="../email">Email</a> |
<a href="../newzbin">Newzbin</a> |
<a href="../categories">Categories</a>
</span>
<h2>RSS Configuration</h2>
<!--#if $have_feedparser#-->

<div class="EntryBlock">
<form action="add_rss_feed" method="post">
<fieldset class="EntryFieldSet">
<legend>New feed URI</legend>
    <input type="text" size="10" name="feed" value="$feed"/>&nbsp;
    <input type="text" size="104" name="uri" value=""/><br/><br/>
    <input type="submit" value="Save"/>
</fieldset>
</form>
</div>

<!--#for $feed in $rss#-->
    <h3>Feed Definition</h3>
    <div class="EntryBlock">
    <form action="upd_rss_feed" method="post">
        <fieldset class="EntryFieldSet">
            <legend>Feed $feed</legend>

            <input type="text" size="120" name="uri" value="$rss[$feed]['uri']"/><br/><br/>

            <!--#if $rss[$feed]['pick_cat']#-->
                <select name="cat">
                <!--#for $ct in $cat_list#-->
                    <option value="$ct" <!--#if $ct == $rss[$feed]['cat'] then "selected" else ""#-->>$ct</option>
                <!--#end for#-->
                </select>
            <!--#end if#-->
            <select name="pp">
                <option value="" <!--#if $rss[$feed]['pp'] == "" then 'selected' else ''#-->>Default</option>
                <option value="0" <!--#if $rss[$feed]['pp'] == "0" then 'selected' else ''#-->>Download</option>
                <option value="1" <!--#if $rss[$feed]['pp'] == "1" then 'selected' else ''#-->>+Repair</option>
                <option value="2" <!--#if $rss[$feed]['pp'] == "2" then 'selected' else ''#-->>+Unpack</option>
                <option value="3" <!--#if $rss[$feed]['pp'] == "3" then 'selected' else ''#-->>+Delete</option>
            </select>
            <!--#if $rss[$feed]['pick_script']#-->
                <select name="script">
                <!--#for $sc in $script_list#-->
                    <option value="$sc" <!--#if $sc == $rss[$feed]['script'] then "selected" else ""#-->>$sc</option>
                <!--#end for#-->
                </select>
            <!--#end if#-->

            <input type="hidden" name="feed" value="$feed">
            <input type="submit" value="Save"/>
            <input type="submit" onclick="this.form.action='del_rss_feed';  this.form.submit(); return false;" value="Delete"/>
            <input type="submit" onclick="this.form.action='query_rss_feed'; this.form.submit(); return false;" value="Query"/>
            <input type="submit" onclick="this.form.action='rematch_rss_feed'; this.form.submit(); return false;" value="Rematch/Show"/>
            <!--#if $rss[$feed]['enable']#-->
                <input type="submit" onclick="this.form.action='disable_rss_feed'; this.form.submit(); return false;" value="Stop"/>
            <!--#else#-->
                <input type="submit" onclick="this.form.action='enable_rss_feed'; this.form.submit(); return false;" value="Start/Download"/>
            <!--#end if#-->
        </fieldset>
    </form>
    </div>
    <br/>

    <table>
        <tr>
            <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
            <th>Order</th>
            <th>Type</th>
            <th>Filter</th>
            <!--#if $rss[$feed]['pick_cat'] then "<th>Category</th>" else ""#-->
            <th>Mode</th>
            <!--#if $rss[$feed]['pick_script'] then "<th>Script</th>" else ""#-->
            <th></th>
        </tr>

        <form action="upd_rss_filter" method="get">
        <tr class="odd">
        <td></td>
        <td></td>
        <td>
            <select name="filter_type">
                <option value="A" selected /> Accept</option>
                <option value="R" /> Reject</option>
            </select>
        </td>
        <td><input type="text" size="60" name="filter_text" value=""></td>
        <!--#if $rss[$feed]['pick_cat']#-->
          <td>
            <select name="cat">
            <!--#for $ct in $cat_list#-->
                <option value="$ct" <!--#if $ct == $rss[$feed]['cat'] then "selected" else ""#-->>$ct</option>
            <!--#end for#-->
            </select>
          </td>
        <!--#end if#-->
        <td>
          <select name="pp">
              <option value="" <!--#if $rss[$feed]['pp'] == "0" then 'selected' else ''#-->>Default</option>
              <option value="0" <!--#if $rss[$feed]['pp'] == "0" then 'selected' else ''#-->>Download</option>
              <option value="1" <!--#if $rss[$feed]['pp'] == "1" then 'selected' else ''#-->>+Repair</option>
              <option value="2" <!--#if $rss[$feed]['pp'] == "2" then 'selected' else ''#-->>+Unpack</option>
              <option value="3" <!--#if $rss[$feed]['pp'] == "3" then 'selected' else ''#-->>+Delete</option>
          </select>
        </td>
        <!--#if $rss[$feed]['pick_script']#-->
          <td>
            <select name="script">
            <!--#for $sc in $script_list#-->
                <option value="$sc" <!--#if $sc == $rss[$feed]['script'] then "selected" else ""#-->>$sc</option>
            <!--#end for#-->
            </select>
          </td>
        <!--#end if#-->
        <input type="hidden" value="$rss[$feed]['filtercount']" name="index">
        <input type="hidden" value="$feed" name="feed">
        <td><input type="submit" value="Save"></td>
        </tr>
        </form>

    <!--#set $fnum = 0#-->
    <!--#for $filter in $rss[$feed].filters#-->
        <tr class="odd">
        <td>
            <form action="del_rss_filter" method="post">
            <input type="hidden" value="$fnum" name="index">
            <input type="hidden" value="$feed" name="feed">
            <input type="submit" value="X"></form>
        </td>

        <td><form><select onchange="location = this.options[this.selectedIndex].value;">
        <!--#for $i in xrange($rss[$feed]['filtercount'])#-->
            <option value="pos_rss_filter?feed=$feed&current=$fnum&new=$i" <!--#if int($i) == int($fnum) then "selected" else ""#-->>$i</option>
        <!--#end for#-->
        </select>
        <input type="hidden" value="$feed" name="feed">
        </form></td>

        <form action="upd_rss_filter" method="get">
        <td>
        <select name="filter_type">
            <option value="A" <!--#if $filter[3] == "A" then "selected" else ""#--> /> Accept</option>
            <option value="R" <!--#if $filter[3] == "R" then "selected" else ""#--> /> Reject</option>
        </select>
        </td>

        <td><input type="text" size="60" name="filter_text" value="$filter[4]"/></td>
        <!--#if $rss[$feed]['pick_cat']#-->
          <td>
            <select name="cat">
            <!--#for $ct in $cat_list#-->
                <option value="$ct" <!--#if $ct == $filter[0] then "selected" else ""#-->>$ct</option>
            <!--#end for#-->
            </select>
          </td>
        <!--#end if#-->
        <td>
        <select name="pp">
            <option value="" <!--#if $filter[1] == "0" then 'selected' else ''#-->>Default</option>
            <option value="0" <!--#if $filter[1] == "0" then 'selected' else ''#-->>Download</option>
            <option value="1" <!--#if $filter[1] == "1" then 'selected' else ''#-->>+Repair</option>
            <option value="2" <!--#if $filter[1] == "2" then 'selected' else ''#-->>+Unpack</option>
            <option value="3" <!--#if $filter[1] == "3" then 'selected' else ''#-->>+Delete</option>
        </select>
        </td>
        <!--#if $rss[$feed]['pick_script']#-->
          <td>
            <select name="script">
            <!--#for $sc in $script_list#-->
                <option value="$sc" <!--#if $sc == $filter[2] then "selected" else ""#-->>$sc</option>
            <!--#end for#-->
            </select>
          </td>
        <!--#end if#-->
        <td>
        <input type="hidden" name="index" value="$fnum"/>
        <input type="hidden" name="feed" value="$feed"/>
        <input type="submit" value="Save"/>
        </td>
        </form>
        </tr>
        <!--#set $fnum = $fnum+1#-->
    <!--#end for#-->

    </table>
<!--#end for#-->

<!--#else#-->
    <p>
        <b>feedparser module missing<b>
    </p>
<!--#end if#-->


<div class="footer">
<!--#if $shutdown then "<b>SHUTDOWN</b> - " else ""#--><b>Download Dir:</b> $diskspace1 GB - <b>Complete Dir:</b> $diskspace2 GB - <b>Download speed:</b> $kbpersec KB/s - <b>Queued:</b> $mbleft/$mb MB <!--#if $paused then "- <b>PAUSED</b>" else ""#--><br>
<!--#if int($cache_limit)#-->
<b>$cache_art</b> articles buffered in <b>$cache_size</b> bytes<br>
<!--#end if#-->
<!--#if $new_release#-->
    <b>New release $new_release available at <a href="$new_rel_url" target="_blank">SF.net</a></b><br>
<!--#end if#-->
</div>
</body>
</html>
