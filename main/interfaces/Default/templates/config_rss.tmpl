<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
    <title>SABnzbd+ $version - Queued: $mbleft MB</title>
    <link rel="stylesheet" type="text/css" href="../../static/stylesheets/default.css"/>
    <link rel="stylesheet" type="text/css" href="../../static/stylesheets/defaultcolors.css"/>
    <!--#if $color_scheme#-->
        <link rel="stylesheet" type="text/css" href="../../static/stylesheets/colorschemes/$color_scheme"/>
    <!--#end if#-->
    <link rel="shortcut icon" href="../../static/images/favicon.ico" />
</head>
<body>
<h1><span id="first">SAB</span><span id="second">nzbd+</span><span id="third"> $version</span><span id="catchfrase">The automatic usenet download tool</span></h1>
<span class="MainMenu">
<a href="../../">Home</a> |
<a href="../../queue">Queue</a> |
<a href="../../history">History</a> |
<a class="current" href="../">Config</a> |
<a href="../../connections">Connections</a> |
<a href="$helpuri/Configure+RSS/" target="_blank">Help</a>
</span>
<span class="SubMenu">
<a href="../general">General</a> |
<a href="../directories">Directories</a> |
<a href="../switches">Switches</a> |
<a href="../server">Servers</a> |
<a href="../scheduling">Scheduling</a> |
<a class="current" href="./">RSS</a> |
<a href="../email">Email</a> |
<a href="../newzbin">Newzbin</a> |
<a href="../categories">Categories</a>
</span>
<h2>RSS Configuration</h2>
<!--#if $have_feedparser#-->

<div class="EntryBlock">
<form action="add_rss_feed" method="post">
<fieldset class="EntryFieldSet">
<legend>New feed URI</legend>
    <input type="text" size="120" name="uri" value=""/><br/><br/>
    <input type="submit" value="Save"/>
</fieldset>
</form>
</div>

<!--#for $uri in $rss#-->
    <h3>Feed Definition</h3>
    <div class="EntryBlock">
    <form action="upd_rss_feed" method="post">
        <fieldset class="EntryFieldSet">
            <legend>Feed URI</legend>

            <input type="text" size="120" name="uri" value="$uri"/><br/><br/>

            <!--#if $rss[$uri]['pick_cat']#-->
                <select name="cat">
                <!--#for $ct in $cat_list#-->
                    <option value="$ct" <!--#if $ct == $rss[$uri]['cat'] then "selected" else ""#-->>$ct</option>
                <!--#end for#-->
                </select>
            <!--#end if#-->
            <!--#if $rss[$uri]['pick_pp']#-->
                <select name="pp">
                    <option value="0" <!--#if $rss[$uri]['pp'] == "0" then 'selected' else ''#-->>None</option>
                    <option value="1" <!--#if $rss[$uri]['pp'] == "1" then 'selected' else ''#-->>+Repair</option>
                    <option value="2" <!--#if $rss[$uri]['pp'] == "2" then 'selected' else ''#-->>+Unpack</option>
                    <option value="3" <!--#if $rss[$uri]['pp'] == "3" then 'selected' else ''#-->>+Delete</option>
                </select>
            <!--#end if#-->

            <input type="hidden" name="this_uri" value="$uri">
            <input type="submit" value="Save"/>
            <input type="submit" onclick="this.form.action='del_rss_feed';  this.form.submit(); return false;" value="Delete"/>
            <input type="submit" onclick="this.form.action='query_rss_feed'; this.form.submit(); return false;" value="Query"/>
            <input type="submit" onclick="this.form.action='rematch_rss_feed'; this.form.submit(); return false;" value="Rematch/Show"/>
            <!--#if $rss[$uri]['enable']#-->
                <input type="submit" onclick="this.form.action='disable_rss_feed'; this.form.submit(); return false;" value="Stop"/>
            <!--#else#-->
                <input type="submit" onclick="this.form.action='enable_rss_feed'; this.form.submit(); return false;" value="Start/Download"/>
            <!--#end if#-->
        </fieldset>
    </form>
    </div>
    <br/>

    <table>
        <tr>
            <th></th>
            <th>Order</th>
            <th>Type</th>
            <th>Filter</th>
            <!--#if $rss[$uri]['pick_cat'] then "<th>Category</th>" else ""#-->
            <!--#if $rss[$uri]['pick_pp'] then "<th>Mode</th>" else ""#-->
            <th></th>
        </tr>

        <form action="upd_rss_filter" method="get">
        <tr class="odd">
        <td></td>
        <td></td>
        <td>
            <select name="filter_type">
                <option value="A" selected /> Accept</option>
                <option value="R" /> Reject</option>
            </select>
        </td>
        <td><input type="text" size="60" name="filter_text" value=""></td>
        <!--#if $rss[$uri]['pick_cat']#-->
          <td>
            <select name="cat">
            <!--#for $ct in $cat_list#-->
                <option value="$ct" <!--#if $ct == $rss[$uri]['cat'] then "selected" else ""#-->>$ct</option>
            <!--#end for#-->
            </select>
          </td>
        <!--#end if#-->
        <!--#if $rss[$uri]['pick_pp']#-->
          <td>
            <select name="pp">
                <option value="0" <!--#if $rss[$uri]['pp'] == "0" then 'selected' else ''#-->>None</option>
                <option value="1" <!--#if $rss[$uri]['pp'] == "1" then 'selected' else ''#-->>+Repair</option>
                <option value="2" <!--#if $rss[$uri]['pp'] == "2" then 'selected' else ''#-->>+Unpack</option>
                <option value="3" <!--#if $rss[$uri]['pp'] == "3" then 'selected' else ''#-->>+Delete</option>
            </select>
          </td>
        <!--#end if#-->
        <input type="hidden" value="$rss[$uri]['filtercount']" name="index">
        <input type="hidden" value="$uri" name="uri">
        <td><input type="submit" value="Save"></td>
        </tr>
        </form>

    <!--#for $filter in $rss[$uri].filters#-->
        <tr class="odd">
        <td>
            <form action="del_rss_filter" method="post">
            <input type="hidden" value="$filter[3]" name="index">
            <input type="hidden" value="$uri" name="uri">
            <input type="submit" value="X"></form>
        </td>

        <td><form><select onchange="location = this.options[this.selectedIndex].value;">
        <!--#for $i in xrange($rss[$uri]['filtercount'])#-->
            <option value="pos_rss_filter?uri=$uri&current=$filter[3]&new=$i" <!--#if $i == $filter[3] then "selected" else ""#-->>$i</option>
        <!--#end for#-->
        </select>
        <input type="hidden" value="$uri" name="uri">
        </form></td>

        <form action="upd_rss_filter" method="get">
        <td>
        <select name="filter_type">
            <option value="A" <!--#if $filter[1] == "A" then "selected" else ""#--> /> Accept</option>
            <option value="R" <!--#if $filter[1] == "R" then "selected" else ""#--> /> Reject</option>
        </select>
        </td>

        <td><input type="text" size="60" name="filter_text" value="$filter[2]"/></td>
        <!--#if $rss[$uri]['pick_cat']#-->
          <td>
            <select name="cat">
            <!--#for $ct in $cat_list#-->
                <option value="$ct" <!--#if $ct == $filter[0] then "selected" else ""#-->>$ct</option>
            <!--#end for#-->
            </select>
          </td>
        <!--#end if#-->
        <!--#if $rss[$uri]['pick_pp']#-->
          <td>
            <select name="pp">
                <option value="0" <!--#if $filter[0] == "0" then 'selected' else ''#-->>None</option>
                <option value="1" <!--#if $filter[0] == "1" then 'selected' else ''#-->>+Repair</option>
                <option value="2" <!--#if $filter[0] == "2" then 'selected' else ''#-->>+Unpack</option>
                <option value="3" <!--#if $filter[0] == "3" then 'selected' else ''#-->>+Delete</option>
            </select>
          </td>
        <!--#end if#-->
        <td>
        <input type="hidden" name="index" value="$filter[3]"/>
        <input type="hidden" name="uri" value="$uri"/>
        <input type="submit" value="Save"/>
        </td>
        </form>
        </tr>
    <!--#end for#-->

    </table>
<!--#end for#-->

<!--#else#-->
    <p>
        <b>feedparser module missing<b>
    </p>
<!--#end if#-->


<div class="footer">
<!--#if $shutdown then "<b>SHUTDOWN</b> - " else ""#--><b>Download Dir:</b> $diskspace1 GB - <b>Complete Dir:</b> $diskspace2 GB - <b>Download speed:</b> $kbpersec KB/s - <b>Queued:</b> $mbleft/$mb MB <!--#if $paused then "- <b>PAUSED</b>" else ""#--><br>
<!--#if int($cache_limit)#-->
<b>$cache_art</b> articles buffered in <b>$cache_size</b> bytes<br>
<!--#end if#-->
<!--#if $new_release#-->
    <b>New release $new_release available at <a href="$new_rel_url" target="_blank">SF.net</a></b><br>
<!--#end if#-->
</div>
</body>
</html>
